{% extends 'landing/base.html' %}
{% block content %}

    <div class="card shadow-sm mb-4" data-aos="fade-up">
      <div class="card-body d-flex justify-content-between align-items-center">
        <div>
          <h5 class="mb-1">{{ ticket.title }}</h5>
          <p class="mb-0 text-muted">
            {{ ticket.category }} â€¢ 
            <span class="text-uppercase fw-bold text-{{ 'success' if ticket.priority == 'low' else 'warning' if ticket.priority == 'normal' else 'danger' }}">
              {{ ticket.priority }}
            </span>
          </p>
        </div>
        <span class="badge text-bg-{{ 'secondary' if ticket.status == 'open' else 'info' if ticket.status == 'in_progress' else 'success' }}">
          {{ ticket.status.replace('_', ' ').title() }}
        </span>
      </div>
    </div>

    <div class="card shadow-sm mb-4" style="height: 60vh;" data-aos="fade-up">
      <div class="card-body overflow-auto" id="chatMessages" style="max-height: 100%; scroll-behavior: smooth;">
        <!-- Messaggi caricati dinamicamente -->
      </div>
    </div>

    <div class="input-group">
      <input type="text" id="chatInput" class="form-control" placeholder="Scrivi un messaggio..." aria-label="Messaggio">
      <button class="btn btn-danger" type="button" id="sendMessageBtn">
        <i class="fa-solid fa-paper-plane"></i>
      </button>
    </div>

    <script src="/static/js/superadmin/ticket_chat.js"></script>
{% endblock %}
