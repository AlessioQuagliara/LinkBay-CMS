<!-- Modale Bootstrap -->
<div class="modal  fade" id="contactModal" tabindex="-1" aria-labelledby="contactModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <!-- Header del Modale -->
            <div class="modal-header">
                <h5 class="modal-title fw-bold" id="contactModalLabel">{{ translate('Contact us') }}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <!-- Corpo del Modale con Form Contatti -->
            <div class="modal-body">
                <form>
                  <!-- Nome Utente -->
                  <div class="mb-3">
                      <label for="userName" class="form-label">{{ translate('Name') }}</label>
                      <input type="text" class="form-control" id="userName" placeholder="{{ translate('Enter your name') }}" required>
                  </div>
                  <!-- Email Utente -->
                  <div class="mb-3">
                      <label for="userEmail" class="form-label">{{ translate('Email') }}</label>
                      <input type="email" class="form-control" id="userEmail" placeholder="{{ translate('Enter your email address') }}" required>
                      <small id="emailHelp" class="text-muted d-none">L'email Ã¨ obbligatoria.</small>
                  </div>
                  <!-- Messaggio Utente -->
                  <div class="mb-3">
                      <label for="userMessage" class="form-label">{{ translate('Message') }}</label>
                      <textarea class="form-control" id="userMessage" rows="4" placeholder="{{ translate('Write your message') }}" required></textarea>
                  </div>
                  <!-- Checkbox Privacy -->
                  <div class="mb-3 form-check">
                      <input type="checkbox" class="form-check-input" id="privacyCheck" required>
                      <label class="form-check-label" for="privacyCheck">{{ translate('I accept the') }} <a href="/privacy">Privacy Policy</a></label>
                      <!-- Messaggio di errore per la privacy (facoltativo) -->
                      <small id="privacyError" class="text-danger d-none">Devi accettare la Privacy Policy.</small> 
                  </div>
                  <!-- Bottone Invia -->
                  <button type="submit" class="btn btn-danger w-100">{{ translate('Send') }}</button>
              </form>
            </div>
        </div>
    </div>
</div>

<!-- Modal Structure -->
<style>
    .strength-meter {
      width: 100%;
      height: 5px;
      background-color: #ddd;
    }

    .strength-meter-fill {
      height: 100%;
      width: 0;
      transition: width 0.3s ease;
    }

    .tooltip-inner {
      max-width: 200px; 
      width: 200px; 
    }
  </style>
<div class="modal fade" id="multiStepModal" tabindex="-1" aria-labelledby="multiStepModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="multiStepModalLabel">{{ translate('Create your own online store') }}</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Step 1: Dettagli Negozio -->
          <div id="step1">
            <h6>{{ translate('Step 1: Shop Details') }}</h6>
            <input type="text" id="shop_name" class="form-control mb-1" placeholder="{{ translate('Name of the Shop') }}">
            <small id="shopNameHelp" class="text-muted d-none">{{ translate('Choose a name for your shop') }}</small>
            <small class="invalid-feedback d-none"></small>
    
            <div class="mb-3 mt-3">
              <h6>{{ translate('Select a Theme:') }}</h6>
                <div class="form-check" data-bs-toggle="tooltip" data-bs-html="true">
                  <input class="form-check-input" type="radio" name="themeOptions" id="themeOptionNorman" value="Norman" checked>
                  <label class="form-check-label" for="themeOptionNorman">Norman</label>
                </div>
                <div class="form-check" data-bs-toggle="tooltip" data-bs-html="true">
                    <input class="form-check-input" type="radio" name="themeOptions" id="themeOptionUserless" value="Userless">
                    <label class="form-check-label" for="themeOptionUserless">Userless</label>
                </div>
                <div class="form-check" data-bs-toggle="tooltip" data-bs-html="true">
                  <input class="form-check-input" type="radio" name="themeOptions" id="themeOptionMotion" value="Motion">
                  <label class="form-check-label" for="themeOptionMotion">Motion</label>
                </div>
              <div>
                <p>{{ translate('Other themes available on the platform') }}</p>
              </div>
            </div>
          </div>
          <!-- Step 2: Dettagli Utente -->
          <div id="step2" class="d-none">
            <h6>{{ translate('Step 2: Create an account') }}</h6>
            <input type="email" id="email" class="form-control mb-3" placeholder="{{ translate('Email') }}">
            <small class="invalid-feedback d-none"></small>
            <input type="password" id="password" class="form-control mb-1" placeholder="{{ translate('Password') }}">
            <div class="strength-meter">
              <div id="strength-meter-fill" class="strength-meter-fill bg-danger"></div>
            </div>
            <small id="passwordStrengthText" class="text-muted d-block mb-3">{{ translate('Password security level: Low') }}</small>
            <input type="password" id="confirmPassword" class="form-control mb-1" placeholder="{{ translate('Confirm Password') }}">
            <small id="passwordMismatch" class="text-danger d-none">{{ translate('Passwords do not match') }}</small>
          </div>
          <!-- Step 3: Inizia la prova gratuita -->
          <div id="step3" class="d-none">
            <h6>{{ translate('Step 3: Start your free trial') }}</h6>
            <button type="button" class="btn btn-danger w-100" onclick="inviaDati()">{{ translate('Free trial of 14 days begins') }}</button>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" id="prevBtn" onclick="prevStep()">{{ translate('Back') }}</button>
          <button type="button" class="btn btn-danger" id="nextBtn" onclick="nextStep()">{{ translate('Next') }}</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
        const shopNameInput = document.getElementById("shop_name");
  
        shopNameInput.addEventListener("input", function () {
            this.value = this.value.toLowerCase();
        });
    });
  </script>