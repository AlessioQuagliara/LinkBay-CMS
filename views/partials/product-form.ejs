<%# Partial: Product form used for create/edit. Expects `product` object optionally. %>
<div id="product-form-root">
  <div id="notification-area"></div>
  <form hx-post="/api/products" hx-target="#notification-area" hx-swap="innerHTML" class="space-y-4">
    <input type="hidden" name="id" value="<%= product && product.id ? product.id : '' %>" />
    <div>
      <label class="block text-sm font-medium text-gray-700">Titolo</label>
      <input name="title" value="<%= product && product.title ? product.title : '' %>" class="mt-1 block w-full rounded-md border-gray-300" required />
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700">SKU</label>
      <input name="sku" value="<%= product && product.sku ? product.sku : '' %>" class="mt-1 block w-full rounded-md border-gray-300" />
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700">Prezzo (cents)</label>
      <input name="price_cents" type="number" value="<%= product && product.price_cents ? product.price_cents : '' %>" class="mt-1 block w-full rounded-md border-gray-300" />
    </div>
    <div class="flex justify-end space-x-2">
      <button type="button" @click="$dispatch('close-modal')" class="px-3 py-2 rounded border">Annulla</button>
      <button type="submit" class="px-4 py-2 rounded bg-primary text-white">Salva</button>
    </div>
  </form>
</div>
