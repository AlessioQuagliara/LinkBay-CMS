<% layout('tenant/layout') %>

<div class="mb-6">
	<div class="bg-white p-6 rounded shadow flex items-center justify-between">
		<div>
			<h1 class="text-2xl font-semibold">Benvenuto, <%= (req as any).tenant && (req as any).tenant.name ? (req as any).tenant.name : 'Tenant' %></h1>
			<p class="text-sm text-gray-600 mt-1">Ecco una panoramica rapida del tuo workspace.</p>
		</div>
		<div class="space-x-3">
			<a href="/pages/new" class="px-4 py-2 bg-indigo-600 text-white rounded">Crea una nuova pagina</a>
			<a href="/products/new" class="px-4 py-2 border border-indigo-600 text-indigo-600 rounded">Aggiungi un prodotto</a>
		</div>
	</div>
</div>

<!-- Widgets -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
	<div class="bg-white p-4 rounded shadow">
		<h3 class="text-sm text-gray-600">Pagine pubblicate</h3>
		<div hx-get="/api/analytics/pages_count" hx-trigger="load" hx-swap="outerHTML">
			<div class="text-3xl font-bold">—</div>
		</div>
	</div>
	<div class="bg-white p-4 rounded shadow">
		<h3 class="text-sm text-gray-600">Ordini recenti</h3>
		<div hx-get="/api/analytics/recent_orders" hx-trigger="load" hx-swap="outerHTML">
			<div class="text-3xl font-bold">—</div>
		</div>
	</div>
	<div class="bg-white p-4 rounded shadow">
		<h3 class="text-sm text-gray-600">Ricavo</h3>
		<div hx-get="/api/analytics/revenue" hx-trigger="load" hx-swap="outerHTML">
			<div class="text-3xl font-bold">—</div>
		</div>
	</div>
</div>

<!-- Activities -->
<div class="mt-8 bg-white p-6 rounded shadow">
	<h2 class="text-lg font-semibold">Attività recenti</h2>
	<div class="mt-4" hx-get="/api/analytics/activity" hx-trigger="load" hx-swap="outerHTML">
		<div class="text-sm text-gray-600">Caricamento...</div>
	</div>
</div>

