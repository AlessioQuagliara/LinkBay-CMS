<% /*
  Usage:
  <%- include('partials/components/modal', { id: 'productModal', title: 'Titolo', content: '<p>HTML</p>' }) %>
  Controls: dispatch window event `open-modal:{id}` or call `$dispatch('open-modal', { id: 'productModal' })`
*/ %>
<div x-data="{ open:false }"
     x-init="window.addEventListener('open-modal', e => { if (!e.detail || e.detail.id === '<%= id %>') open = true })"
     @keydown.escape.window="open = false"
     x-show="open"
     x-cloak
     class="fixed inset-0 z-40 flex items-center justify-center">
  <div class="absolute inset-0 bg-black bg-opacity-50" @click="open=false" x-show="open" x-transition.opacity></div>
  <div class="bg-white rounded-lg shadow-lg z-50 w-full max-w-2xl mx-4" x-show="open" x-transition.opacity x-transition.scale>
    <div class="px-4 py-3 border-b flex items-center justify-between">
      <h3 class="text-lg font-medium"><%= title %></h3>
      <button @click="open=false" class="text-gray-500">Ã—</button>
    </div>
    <div class="p-4">
      <%- content %>
    </div>
  </div>
</div>
