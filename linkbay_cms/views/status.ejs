<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Platform Status</title>
  <style>
    body{font-family:system-ui,Arial;margin:24px}
    .ok{color:green}
    .bad{color:#c00}
    .inc{border-left:4px solid #f90;padding:8px;margin:8px 0}
    .muted{color:#666;font-size:0.9em}
  </style>
</head>
<body>
  <h1>LinkBay Platform Status</h1>
  <p class="muted">As of <%= status.timestamp %></p>

  <h2>Overall: <span class="<%= status.ok ? 'ok' : 'bad' %>"><%= status.ok ? 'OK' : 'ISSUES' %></span></h2>

  <h3>Checks</h3>
  <ul>
    <% Object.keys(status.checks || {}).forEach(function(k){ var v = status.checks[k]; %>
      <li><strong><%= k %></strong>: <span class="<%= v && v.ok ? 'ok' : 'bad' %>"><%= v && v.ok ? 'OK' : 'FAIL' %></span>
        <% if (v && v.error) { %>
          <div class="muted"><%= v.error %></div>
        <% } %>
      </li>
    <% }) %>
  </ul>

  <% if (status.incidents && status.incidents.length) { %>
    <h3>Active incidents</h3>
    <% status.incidents.forEach(function(i){ %>
      <div class="inc">
        <strong><%= i.severity %>:</strong> <%= i.title %>
        <div class="muted"><%= i.body %></div>
        <div class="muted">Reported at: <%= i.created_at %></div>
      </div>
    <% }) %>
  <% } else { %>
    <p class="muted">No active incidents.</p>
  <% } %>

</body>
</html>
